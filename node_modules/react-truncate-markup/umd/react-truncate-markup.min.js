/*!
 * react-truncate-markup v1.0.1
 * Apache-2.0 Licensed
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactTruncateMarkup=e(require("react")):t.ReactTruncateMarkup=e(t.React)}(this,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return y});var s,c,a=n(2),h=n.n(a),u=n(3),l=n.n(u),p=n(5),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_={LEFT:!0,RIGHT:!1},v=function(t,e,n){return d({},t,{props:d({},t.props,{style:d({},t.props.style,n?{}:{display:(t.props.style||{}).display||"inline"}),children:e})})},y=(c=s=function(t){function e(){var n,o,s;i(this,e);for(var c=arguments.length,a=Array(c),h=0;h<c;h++)a[h]=arguments[h];return n=o=r(this,t.call.apply(t,[this].concat(a))),o.state={text:o._childrenElementWithRef(o.props.children)},s=n,r(o,s)}return o(e,t),e.prototype.componentDidMount=function(){var t=this;this._origText=this.state.text,this._splitDirectionSeq=[],this._shouldTruncate=!0,this._lineHeight=this.props.lineHeight||l()(this.el),this._truncate();var e=!0;this.resizeObserver=new p.a(function(){e?e=!1:t.setState({text:t._origText},function(){t._shouldTruncate=!0,t._truncate()})}),this.resizeObserver.observe(this.el)},e.prototype.componentWillReceiveProps=function(t){var e=this;this.setState({text:this._childrenElementWithRef(t.children)},function(){e._origText=e.state.text,e._lineHeight=t.lineHeight||l()(e.el),e._shouldTruncate=!0,e._truncate()})},e.prototype.componentDidUpdate=function(){if(!1!==this._shouldTruncate)return this._endFound?void(this.state.text!==this._latestThatFits?this.setState({text:this._latestThatFits}):this.el&&this.el.clientWidth!==this._clientWidth&&this._truncateOriginalText()):void(this._splitDirectionSeq.length&&(this._fits()?(this._latestThatFits=this.state.text,this._clientWidth=this.el.clientWidth,this._splitDirectionSeq.splice(this._splitDirectionSeq.length-1,1,_.RIGHT,_.LEFT)):this._splitDirectionSeq.push(_.LEFT),this._tryToFit(this._origText,this._splitDirectionSeq)))},e.prototype.componentWillUnmount=function(){this.resizeObserver&&this.resizeObserver.disconnect(),this._lineHeight=null,this._origText=null,this._latestThatFits=null,this._splitDirectionSeq=[]},e.prototype._truncate=function(){if(this._fits())return void(this._shouldTruncate=!1);this._latestThatFits=null,this._truncateOriginalText()},e.prototype._childrenElementWithRef=function(t){var e=this,n=h.a.Children.only(t);return h.a.cloneElement(n,{ref:function(t){return e.el=t}})},e.prototype._truncateOriginalText=function(){this._endFound=!1,this._splitDirectionSeq=[_.LEFT],this._tryToFit(this._origText,this._splitDirectionSeq)},e.prototype._tryToFit=function(t,e){if(t.props.children){var n=this._split(t,e,!0),i="function"==typeof this.props.ellipsis?this.props.ellipsis(n):"object"===f(this.props.ellipsis)?h.a.cloneElement(this.props.ellipsis,{key:"ellipsis"}):this.props.ellipsis,r=n.props.children,o=Array.isArray(r)?[].concat(r,[i]):[r,i];this.setState({text:d({},n,{props:d({},n.props,{style:d({wordWrap:"break-word"},n.props.style),children:o})})})}},e.prototype._split=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return t;if("string"==typeof t)return this._splitString(t,e);if(Array.isArray(t))return this._splitArray(t,e);var i=this._split(t.props.children,e);return v(t,i,n)},e.prototype._splitString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.length)return t;if(e.length&&1===t.length)return this._endFound=!0,t;var n=e[0],i=e.slice(1),r=Math.ceil(t.length/2);if(n===_.LEFT){var o=t.substring(0,r);return this._splitString(o,i)}var s=t.substring(0,r),c=t.substring(r);return s+this._splitString(c,i)},e.prototype._splitArray=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.length)return t;if(1===t.length){var n=t[0];if("string"==typeof n)return[this._splitString(n,e)];var i=n.props.children,r=this._split(i,e);return[v(n,r)]}var o=e[0],s=e.slice(1),c=Math.ceil(t.length/2);if(o===_.LEFT){var a=t.slice(0,c);return this._splitArray(a,s)}var h=t.slice(0,c),u=t.slice(c);return h.concat(this._splitArray(u,s))},e.prototype._fits=function(){var t=this.props.lines,e=this.el.getBoundingClientRect(),n=e.height,i=Math.round(n/parseFloat(this._lineHeight));return t>=i},e.prototype.render=function(){return this.state.text},e}(h.a.Component),s.defaultProps={lines:1,ellipsis:"...",lineHeight:""},c)},function(e,n){e.exports=t},function(t,e,n){function i(t){var e=r(t,"line-height"),n=parseFloat(e,10);if(e===n+""){var i=t.style.lineHeight;t.style.lineHeight=e+"em",e=r(t,"line-height"),n=parseFloat(e,10),i?t.style.lineHeight=i:delete t.style.lineHeight}if(-1!==e.indexOf("pt")?(n*=4,n/=3):-1!==e.indexOf("mm")?(n*=96,n/=25.4):-1!==e.indexOf("cm")?(n*=96,n/=2.54):-1!==e.indexOf("in")?n*=96:-1!==e.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===e){var o=t.nodeName,s=document.createElement(o);s.innerHTML="&nbsp;","TEXTAREA"===o.toUpperCase()&&s.setAttribute("rows","1");var c=r(t,"font-size");s.style.fontSize=c,s.style.padding="0px",s.style.border="0px";var a=document.body;a.appendChild(s);n=s.offsetHeight,a.removeChild(s)}return n}var r=n(4);t.exports=i},function(t,e){var n=function(t,e,n){return n=window.getComputedStyle,(n?n(t):t.currentStyle)[e.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()})]};t.exports=n},function(t,e,n){"use strict";function i(t){return parseFloat(t)||0}function r(t){return Array.prototype.slice.call(arguments,1).reduce(function(e,n){return e+i(t["border-"+n+"-width"])},0)}function o(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r+=1){var s=o[r],c=t["padding-"+s];n[s]=i(c)}return n}function s(t){var e=t.getBBox();return l(0,0,e.width,e.height)}function c(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return w;var s=getComputedStyle(t),c=o(s),h=c.left+c.right,u=c.top+c.bottom,p=i(s.width),f=i(s.height);if("border-box"===s.boxSizing&&(Math.round(p+h)!==e&&(p-=r(s,"left","right")+h),Math.round(f+u)!==n&&(f-=r(s,"top","bottom")+u)),!a(t)){var d=Math.round(p+h)-e,_=Math.round(f+u)-n;1!==Math.abs(d)&&(p-=d),1!==Math.abs(_)&&(f-=_)}return l(c.left,c.top,p,f)}function a(t){return t===document.documentElement}function h(t){return f?E(t)?s(t):c(t):w}function u(t){var e=t.x,n=t.y,i=t.width,r=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return O(s,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),s}function l(t,e,n,i){return{x:t,y:e,width:n,height:i}}var p=function(){function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return"undefined"!=typeof Map?Map:function(){function e(){this.__entries__=[]}var n={size:{}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n+=1){var r=i[n];t.call(e,r[1],r[0])}},Object.defineProperties(e.prototype,n),e}()}(),f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,d=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),_=2,v=function(t,e){function n(){o&&(o=!1,t()),s&&r()}function i(){d(n)}function r(){var t=Date.now();if(o){if(t-c<_)return;s=!0}else o=!0,s=!1,setTimeout(i,e);c=t}var o=!1,s=!1,c=0;return r},y=["top","right","bottom","left","width","height","size","weight"],b="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),g="undefined"!=typeof MutationObserver&&!b,m=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=v(this.refresh.bind(this),20)};m.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},m.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},m.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},m.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},m.prototype.connect_=function(){f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),g?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},m.prototype.disconnect_=function(){f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},m.prototype.onTransitionEnd_=function(t){var e=t.propertyName;y.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},m.getInstance=function(){return this.instance_||(this.instance_=new m),this.instance_},m.instance_=null;var O=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n+=1){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},w=l(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof SVGGraphicsElement}:function(t){return t instanceof SVGElement&&"function"==typeof t.getBBox}}(),T=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=l(0,0,0,0),this.target=t};T.prototype.isActive=function(){var t=h(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},T.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var x=function(t,e){var n=u(e);O(this,{target:t,contentRect:n})},S=function(t,e,n){if("function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new p,this.callback_=t,this.controller_=e,this.callbackCtx_=n};S.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new T(t)),this.controller_.addObserver(this),this.controller_.refresh())}},S.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},S.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},S.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},S.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new x(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},S.prototype.clearActive=function(){this.activeObservations_.splice(0)},S.prototype.hasActive=function(){return this.activeObservations_.length>0};var A="undefined"!=typeof WeakMap?new WeakMap:new p,M=function(t){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=m.getInstance(),n=new S(t,e,this);A.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){M.prototype[t]=function(){return(e=A.get(this))[t].apply(e,arguments);var e}});var R=function(){return"undefined"!=typeof ResizeObserver?ResizeObserver:M}();e.a=R}])});
//# sourceMappingURL=react-truncate-markup.min.js.map